<head>
    <meta name="encoding" value="utf-8">
    <script type="text/javascript" src="js/jquery-3.2.0.min.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div class="container">
        <div class="row" >
            <h4>Arduino Echo</h4>
            <div class="col-sm-12">
                <form>
                  <div class="form-group">
                    <label for="formGroupExampleInput">Input Stream:</label>
                    <input type="text" class="form-control" id="instr">
                  </div>
                  <button id="send" type="button" class="btn btn-primary">Send</button>
                  <div class="form-group">
                    <label for="formGroupExampleInput2">Output Stream:</label>
                    <div id="outdiv"></div>
                  </div>
                </form>                
            </div>
        </div>
    </div>
<script type="text/javascript">
    $(document).ready(function(){
        $('#send').click(function(){
            external.send($('#instr').val());
            setTimeout(function(){
                external.echo(function(py_text,py_callback){
                    console.log(py_text);
                    $('#outdiv').append('<p>'+py_text+'</p>')
                });
            },500);
        });
    });
</script>
</body>
